<UserControl x:Class="UniCast.App.Views.TargetsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600">

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Background="{StaticResource BgLight}" CornerRadius="8" Padding="20" VerticalAlignment="Top">
            <StackPanel>
                <TextBlock Text="ðŸ”— Yeni Hedef Ekle" FontSize="18" FontWeight="Bold" Foreground="{StaticResource Primary}" Margin="0,0,0,15"/>

                <TextBlock Text="Platform" Foreground="{StaticResource TextMuted}" Margin="0,0,0,5"/>
                <ComboBox ItemsSource="{Binding PlatformOptions}" SelectedItem="{Binding SelectedPlatform}" Margin="0,0,0,15"/>

                <TextBlock Text="Ä°sim (Ã–rn: Ana Kanal)" Foreground="{StaticResource TextMuted}" Margin="0,0,0,5"/>
                <TextBox Text="{Binding DisplayName}" Margin="0,0,0,15"/>

                <TextBlock Text="RTMP URL" Foreground="{StaticResource TextMuted}" Margin="0,0,0,5"/>
                <TextBox Text="{Binding Url}" Margin="0,0,0,15"/>

                <TextBlock Text="YayÄ±n AnahtarÄ± (Stream Key)" Foreground="{StaticResource TextMuted}" Margin="0,0,0,5"/>
                <TextBox Text="{Binding StreamKey}" Margin="0,0,0,20"/>

                <Button Content="Listeye Ekle" Command="{Binding AddCommand}" 
                        Background="{StaticResource Primary}" BorderThickness="0" Height="40"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Column="1" Margin="20,0,0,0" VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding Targets}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="{StaticResource BgLight}" CornerRadius="6" Margin="0,0,0,10" Padding="15">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Border Background="{StaticResource BgDark}" CornerRadius="25" Width="50" Height="50">
                                    <TextBlock Text="{Binding Platform}" FontSize="10" FontWeight="Bold" 
                                               HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Gray"/>
                                </Border>

                                <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding DisplayName}" FontSize="16" FontWeight="Bold" Foreground="{StaticResource TextMain}"/>
                                    <TextBlock Text="{Binding Platform}" FontSize="12" Foreground="{StaticResource Primary}"/>
                                    <TextBlock Text="{Binding Url}" FontSize="11" Foreground="{StaticResource TextMuted}" TextTrimming="CharacterEllipsis"/>
                                </StackPanel>

                                <Button Grid.Column="2" Content="ðŸ—‘ï¸" 
                                        Command="{Binding DataContext.RemoveCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                        CommandParameter="{Binding}"
                                        Background="Transparent" BorderThickness="0" Foreground="#FF5555" FontSize="16"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

    </Grid>
</UserControl>